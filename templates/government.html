{% extends "layout.html" %}

{# TODO: Style this better. #}

{% block body %}
  {% for name, positions in all_types.iteritems() %}
    <h2>{{ name }}</h2>
    <table class="userlist">
    {# First display header #}
      <tr>
        {% for field in fields %}
        <th width='25%'>{{ field }}</th>
        {% endfor %}
      </tr>
    {# Force proportional columns #}
    {# Now, display each row #}
    {% for position in positions %}
    <tr onclick="location.href='{{ url_for('show_user_profile',
      username=position['username']) }}'">
      {% for field in fields %}
      <td>{{ position[field] }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
  {% endfor %}

{% endblock body %}
